---
export const prerender = true;

import ProductLayout from "../layouts/ProductLayout.astro";
import ProductCard from "../components/ProductCard.astro";
import Nav from "../components/Nav.astro";
import Gift from "../components/Gift.astro";
import { products } from "../data/product2";

export async function getStaticPaths() {
  return products.map((product) => ({
    params: { slug: product.slug },
  }));
}

const { slug } = Astro.params;
const currentProduct = products.find((p) => p.slug === slug);

if (!currentProduct) {
  return Astro.redirect("/404");
}

const relatedProducts = products
  .filter(
    (p) =>
      p.id !== currentProduct.id &&
      (p.brand === currentProduct.brand ||
        p.categoryPath.some((cat) =>
          currentProduct.categoryPath.includes(cat),
        )),
  )
  .slice(0, 4);

// FAQ DATA
const faqs = [
  {
    question: `How does Lipa Mdogo Mdogo work for ${currentProduct.name}?`,
    answer: `Pay KES ${currentProduct.deposit} deposit, then KES ${currentProduct.daily} daily until fully paid. No hidden fees. Get your ${currentProduct.name} immediately after deposit.`,
  },
  {
    question: `Is delivery free in Kenya for ${currentProduct.name}?`,
    answer:
      "Yes, free same-day delivery in Nairobi CBD. Outer Nairobi and other counties may have small delivery fees. We deliver nationwide.",
  },
  {
    question: "What if I miss a payment?",
    answer:
      "Contact your provider immediately. Most offer grace periods and flexible payment options.",
  },
  {
    question: `Is this ${currentProduct.name} genuine?`,
    answer: `Yes, 100% genuine ${currentProduct.brand} ${currentProduct.name} with manufacturer warranty. Sourced from authorized distributors in Kenya.`,
  },
  {
    question: `What colors are available for ${currentProduct.name} in Kenya?`,
    answer: `Available in: ${currentProduct.color}. Choose your preferred color when ordering.`,
  },
  {
    question: "What warranty comes with the phone?",
    answer: `All phones include 2-year manufacturer warranty with full support from ${currentProduct.brand} and ${currentProduct.seller}.`,
  },
];

// FAQ SCHEMA
const faqSchema = {
  "@type": "FAQPage",
  mainEntity: faqs.map((faq) => ({
    "@type": "Question",
    name: faq.question,
    acceptedAnswer: {
      "@type": "Answer",
      text: faq.answer,
    },
  })),
};

// Calculate values
const deposit = parseFloat(currentProduct.deposit.replace(/[^\d.]/g, ""));
const daily = parseFloat(currentProduct.daily.replace(/[^\d.]/g, ""));

// Key features extraction
const keyFeatures = [
  currentProduct.ram ? `${currentProduct.ram} RAM` : null,
  currentProduct.storage ? `${currentProduct.storage} Storage` : null,
  currentProduct.camera ? `${currentProduct.camera} Camera` : null,
  currentProduct.battery ? `${currentProduct.battery} Battery` : null,
  currentProduct.display ? `${currentProduct.display} Display` : null,
  currentProduct.processor ? `${currentProduct.processor} Processor` : null,
].filter(Boolean);

// Enhanced specifications for SEO
const detailedSpecs = {
  general: [
    { label: "Brand", value: currentProduct.brand },
    { label: "Model", value: currentProduct.name },
    { label: "Release Year", value: currentProduct.releaseYear || "2024" },
    { label: "Operating System", value: currentProduct.os || "Android" },
    {
      label: "SIM Type",
      value: currentProduct.simType || "Dual SIM (Nano-SIM)",
    },
    { label: "Color Options", value: currentProduct.color },
    { label: "Condition", value: currentProduct.condition || "New" },
    { label: "Warranty", value: "2 Years Manufacturer Warranty" },
  ],
  display: [
    {
      label: "Screen Size",
      value: currentProduct.display || currentProduct.screenSize,
    },
    { label: "Display Type", value: currentProduct.displayType || "AMOLED" },
    { label: "Resolution", value: currentProduct.resolution || "Full HD+" },
    { label: "Refresh Rate", value: currentProduct.refreshRate || "60Hz" },
    {
      label: "Protection",
      value: currentProduct.screenProtection || "Corning Gorilla Glass",
    },
  ],
  performance: [
    {
      label: "Processor",
      value: currentProduct.processor || currentProduct.chipset,
    },
    { label: "CPU", value: currentProduct.cpu || "Octa-core" },
    { label: "GPU", value: currentProduct.gpu || "Integrated" },
    { label: "RAM", value: currentProduct.ram },
    { label: "Internal Storage", value: currentProduct.storage },
    {
      label: "Expandable Storage",
      value: currentProduct.expandableStorage || "Up to 512GB via microSD",
    },
  ],
  camera: [
    {
      label: "Rear Camera",
      value: currentProduct.camera || currentProduct.rearCamera,
    },
    {
      label: "Front Camera",
      value: currentProduct.frontCamera || currentProduct.selfieCamera,
    },
    {
      label: "Video Recording",
      value: currentProduct.videoRecording || "4K @ 30fps",
    },
    {
      label: "Camera Features",
      value:
        currentProduct.cameraFeatures || "LED Flash, HDR, Panorama, Night Mode",
    },
  ],
  battery: [
    {
      label: "Battery Capacity",
      value: currentProduct.battery || currentProduct.batteryCapacity,
    },
    {
      label: "Charging",
      value: currentProduct.charging || "Fast Charging 33W",
    },
    {
      label: "Wireless Charging",
      value: currentProduct.wirelessCharging || "Not Available",
    },
    { label: "Battery Type", value: "Li-Po, Non-removable" },
  ],
  connectivity: [
    { label: "Network", value: "2G, 3G, 4G LTE" },
    { label: "Wi-Fi", value: currentProduct.wifi || "Wi-Fi 802.11 a/b/g/n/ac" },
    { label: "Bluetooth", value: currentProduct.bluetooth || "Bluetooth 5.0" },
    { label: "GPS", value: "Yes, with A-GPS, GLONASS" },
    { label: "NFC", value: currentProduct.nfc || "Yes" },
    { label: "USB", value: currentProduct.usb || "USB Type-C" },
    { label: "Audio Jack", value: currentProduct.audioJack || "No" },
  ],
  physical: [
    { label: "Dimensions", value: currentProduct.dimensions || "N/A" },
    { label: "Weight", value: currentProduct.weight || "N/A" },
    {
      label: "Build Material",
      value: currentProduct.buildMaterial || "Glass front, Plastic back",
    },
    {
      label: "Water Resistance",
      value: currentProduct.waterResistance || "Splash Resistant",
    },
  ],
  compatibility: [
    { label: "Kenyan Networks", value: "Safaricom, Airtel, Telkom Kenya" },
    { label: "International Roaming", value: "Yes" },
    { label: "VoLTE Support", value: "Yes" },
    { label: "Wi-Fi Calling", value: "Yes" },
  ],
};

// Slugified brand for internal links
const brandSlug = currentProduct.brand.toLowerCase().replace(/\s+/g, "-");
---

<ProductLayout product={currentProduct} additionalSchemas={[faqSchema]}>
  <Gift />
  <Nav />

  <main class="product-page">
    <!-- =====================================================
         BREADCRUMB ‚Äî schema URLs must match exactly
         ===================================================== -->
    <nav class="breadcrumb" aria-label="Breadcrumb">
      <a href="/">Home</a>
      <span>/</span>
      <a href="/mobile-phones">Mobile Phones</a>
      <span>/</span>
      <a href={`/${brandSlug}-phones`}>{currentProduct.brand}</a>
      <span>/</span>
      <span aria-current="page"
        >Buy {currentProduct.brand} {currentProduct.name} in Kenya</span
      >
    </nav>

    <!-- =====================================================
         ABOVE-THE-FOLD INTRO ‚Äî keyword-rich paragraph
         ===================================================== -->
    <section class="intro-seo" aria-label="Product introduction">
      <p class="intro-paragraph">
        Buy the <strong
          >{currentProduct.brand} {currentProduct.name} in Kenya</strong
        > today with flexible <strong>Lipa Mdogo Mdogo</strong> installment payments ‚Äî
        starting from just <strong>KES {currentProduct.deposit}</strong> deposit. This
        100% genuine <a href={`/${brandSlug}-phones`}
          >{currentProduct.brand} smartphone</a
        > is available for <strong>same-day delivery in Nairobi</strong> and ships
        to all counties across Kenya. Fully compatible with <strong
          >Safaricom, Airtel Kenya, and Telkom Kenya</strong
        > networks, and payments are accepted via <strong>M-Pesa</strong>. Sold
        by {currentProduct.seller} ‚Äî an authorized {currentProduct.brand} dealer
        based in Nairobi, Kenya, with a <strong>2-year manufacturer warranty</strong
        > included.
      </p>
    </section>

    <!-- =====================================================
         PRODUCT SECTION
         ===================================================== -->
    <section class="product-container">
      <div class="product-grid">
        <!-- Image Gallery ‚Äî multiple keyword-named images with strong alt text -->
        <div class="product-images">
          <div class="main-image">
            <img
              src={currentProduct.source}
              alt={`${currentProduct.brand} ${currentProduct.name} price in Kenya - buy on Lipa Mdogo Mdogo`}
              class="product-image"
              loading="eager"
              width="600"
              height="600"
              title={`${currentProduct.brand} ${currentProduct.name} - Nairobi Kenya`}
            />
            {
              currentProduct.source2 && (
                <img
                  src={currentProduct.source2}
                  alt={`${currentProduct.brand} ${currentProduct.name} side view - ${currentProduct.color}`}
                  class="product-image-secondary"
                  loading="lazy"
                  width="600"
                  height="600"
                />
              )
            }
            {
              currentProduct.source3 && (
                <img
                  src={currentProduct.source3}
                  alt={`${currentProduct.brand} ${currentProduct.name} back camera Kenya`}
                  class="product-image-secondary"
                  loading="lazy"
                  width="600"
                  height="600"
                />
              )
            }
            {
              currentProduct.condition === "new" && (
                <span class="badge-new">New</span>
              )
            }
          </div>
        </div>

        <!-- Product Info -->
        <div class="product-info">
          <!-- SEO-optimized H1: brand + model + purchase intent -->
          <h1 class="product-title">
            Buy {currentProduct.brand}
            {currentProduct.name} in Kenya ‚Äî Lipa Mdogo Mdogo
          </h1>

          <div class="product-meta">
            <span class="brand-badge">{currentProduct.brand}</span>
            <span class="stock-badge">In Stock</span>
            {
              currentProduct.reviews?.reviewCount > 0 && (
                <div class="rating">
                  <span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                  <span class="review-count">
                    ({currentProduct.reviews.reviewCount} reviews)
                  </span>
                </div>
              )
            }
          </div>

          <!-- Local Trust Signals ‚Äî moved near top -->
          <div class="local-trust">
            <p>
              üöö <strong>Free same-day delivery in Nairobi</strong> ¬∑ üì± Works on
              <strong>Safaricom, Airtel Kenya &amp; Telkom Kenya</strong> ¬∑ üíö Pay
              via <strong>M-Pesa</strong>
            </p>
          </div>

          <!-- Pricing Section -->
          <div class="pricing-section">
            <div class="price-highlight">
              <div class="deposit-price">
                <span class="price-label">Initial Deposit</span>
                <span class="price-value">{currentProduct.deposit}</span>
              </div>
              <div class="daily-price">
                <span class="price-label">Daily Payment</span>
                <span class="price-value"
                  >{currentProduct.daily}<span class="period">/day</span></span
                >
              </div>
            </div>
            <p class="payment-note">
              ‚úì No hidden fees ¬∑ Get your phone immediately after deposit ¬∑ Pay
              via M-Pesa
            </p>
          </div>

          <!-- Key Features -->
          {
            keyFeatures.length > 0 && (
              <div class="key-features">
                <h3>Key Features</h3>
                <ul>
                  {keyFeatures.map((feature) => (
                    <li>‚úì {feature}</li>
                  ))}
                </ul>
              </div>
            )
          }

          <!-- Color Selection -->
          <div class="color-selection">
            <h3>Available Colors</h3>
            <div class="colors">
              <span class="color-option selected">{currentProduct.color}</span>
            </div>
          </div>

          <!-- CTA Buttons -->
          <div class="cta-section">
            <a href={`tel:+254720202167`} class="btn-primary">
              üìû Call to Order Now
            </a>
            <a
              href={`https://wa.me/254720202167?text=Hi, I want to buy ${currentProduct.brand} ${currentProduct.name}`}
              class="btn-whatsapp"
              target="_blank"
              rel="noopener"
            >
              üí¨ WhatsApp Order
            </a>
          </div>

          <!-- Trust Badges -->
          <div class="trust-badges">
            <div class="badge">
              <span class="icon">üöö</span>
              <span>Free Delivery<br />Nairobi CBD</span>
            </div>
            <div class="badge">
              <span class="icon">‚úì</span>
              <span>100% Genuine<br />Products</span>
            </div>
            <div class="badge">
              <span class="icon">üõ°Ô∏è</span>
              <span>2-Year<br />Warranty</span>
            </div>
            <div class="badge">
              <span class="icon">üíö</span>
              <span>M-Pesa<br />Payments</span>
            </div>
          </div>

          <!-- Seller Info -->
          <div class="seller-info">
            <p>
              <strong>Sold by:</strong>
              <a href={`/${brandSlug}-phones`}>{currentProduct.seller}</a>
            </p>
            <p><strong>Location:</strong> Nairobi, Kenya</p>
          </div>
        </div>
      </div>
    </section>

    <!-- =====================================================
         PRODUCT DESCRIPTION
         ===================================================== -->
    <section class="product-details">
      <div class="details-container">
        <h2>About the {currentProduct.brand} {currentProduct.name}</h2>
        <div class="description-content">
          <p>
            {
              currentProduct.description ||
                `The ${currentProduct.brand} ${currentProduct.name} is one of the most popular smartphones you can buy in Kenya right now. Available through our flexible Lipa Mdogo Mdogo payment plan, this 100% genuine ${currentProduct.brand} device comes with a full manufacturer warranty and free delivery across Nairobi.`
            }
          </p>

          <p>
            Whether you're a student, professional, or content creator, the <a
              href={`/${brandSlug}-phones`}>{currentProduct.brand}</a
            >
            {currentProduct.name} is engineered to keep up with your daily demands
            in Kenya. Browse the <a href="/mobile-phones">full mobile phones range</a
            > or explore all <a href={`/${brandSlug}-phones`}
              >{currentProduct.brand} smartphones available in Kenya</a
            >.
          </p>

          {
            currentProduct.ram && (
              <p>
                <strong>Performance:</strong> With {currentProduct.ram} of RAM, the{" "}
                {currentProduct.brand} {currentProduct.name} handles multitasking,
                web browsing, and gaming without lag ‚Äî ideal for the demands of everyday
                Kenyan life.
              </p>
            )
          }

          {
            currentProduct.storage && (
              <p>
                <strong>Storage:</strong> {currentProduct.storage} of internal storage
                gives you space for thousands of photos, videos, and apps. Store M-Pesa
                statements, WhatsApp media, and your favourite content without worrying
                about running out of space.
              </p>
            )
          }

          {
            currentProduct.camera && (
              <p>
                <strong>Photography:</strong> The {currentProduct.camera} camera system
                lets you capture Kenya's landscapes, events, and everyday moments in
                stunning clarity ‚Äî perfect for sharing on Instagram, TikTok, and WhatsApp.
              </p>
            )
          }

          {
            currentProduct.battery && (
              <p>
                <strong>Battery Life:</strong> The {currentProduct.battery} battery
                keeps you powered through long commutes, outdoor activities, and busy
                workdays. Less time charging, more time doing.
              </p>
            )
          }

          {
            currentProduct.display && (
              <p>
                <strong>Display:</strong> Enjoy rich, vibrant visuals on the{" "}
                {currentProduct.display} screen ‚Äî ideal for streaming, video calls,
                and mobile gaming.
              </p>
            )
          }

          <!-- COMPARISON paragraph targeting "best phone in Kenya" intent -->
          <div class="comparison-block">
            <h3>
              Is the {currentProduct.brand}
              {currentProduct.name} One of the Best Phones in Kenya?
            </h3>
            <p>
              When searching for the <strong>best phone in Kenya</strong> under your
              budget, the {currentProduct.brand}
              {currentProduct.name} consistently ranks among top choices for Kenyan
              buyers. Compared to similarly priced <a href="/mobile-phones"
                >smartphones available in Kenya</a
              >, it offers a strong balance of performance, camera quality, and battery
              life ‚Äî all backed by a 2-year warranty and Lipa Mdogo Mdogo affordability.
              It competes favourably with other leading <a
                href={`/${brandSlug}-phones`}>{currentProduct.brand} models</a
              > and is trusted by thousands of customers across Nairobi and Kenya.
            </p>
          </div>

          <h3>Perfect For Kenyan Users</h3>
          <p>The {currentProduct.brand} {currentProduct.name} is ideal for:</p>
          <ul>
            <li>
              <strong>Students &amp; Learners:</strong> Online classes, research,
              and educational apps run smoothly.
            </li>
            <li>
              <strong>Business Professionals:</strong> Handle emails, video conferences,
              and M-Pesa transactions efficiently.
            </li>
            <li>
              <strong>Content Creators:</strong> High-quality camera and processing
              power for social media content.
            </li>
            <li>
              <strong>Mobile Gamers:</strong> Enjoy popular games with smooth performance.
            </li>
            <li>
              <strong>Social Media Enthusiasts:</strong> Stay connected on WhatsApp,
              Facebook, Instagram, Twitter, and TikTok.
            </li>
            <li>
              <strong>Photography Lovers:</strong> Capture Kenya's beautiful landscapes
              and memorable moments.
            </li>
          </ul>
        </div>
      </div>
    </section>

    <!-- =====================================================
         SPECIFICATIONS ‚Äî H2 for semantic hierarchy
         ===================================================== -->
    <section class="specifications" id="specifications">
      <div class="details-container">
        <h2>
          {currentProduct.brand}
          {currentProduct.name} Specifications
        </h2>

        <div class="spec-category">
          <h3>üì± General Information</h3>
          <table class="spec-table">
            <tbody>
              {
                detailedSpecs.general.map(
                  (spec) =>
                    spec.value && (
                      <tr>
                        <td>{spec.label}</td>
                        <td>{spec.value}</td>
                      </tr>
                    ),
                )
              }
            </tbody>
          </table>
        </div>

        <div class="spec-category">
          <h3>üñ•Ô∏è Display &amp; Screen</h3>
          <table class="spec-table">
            <tbody>
              {
                detailedSpecs.display.map(
                  (spec) =>
                    spec.value && (
                      <tr>
                        <td>{spec.label}</td>
                        <td>{spec.value}</td>
                      </tr>
                    ),
                )
              }
            </tbody>
          </table>
        </div>

        <div class="spec-category">
          <h3>‚ö° Performance &amp; Storage</h3>
          <table class="spec-table">
            <tbody>
              {
                detailedSpecs.performance.map(
                  (spec) =>
                    spec.value && (
                      <tr>
                        <td>{spec.label}</td>
                        <td>{spec.value}</td>
                      </tr>
                    ),
                )
              }
            </tbody>
          </table>
        </div>

        <div class="spec-category">
          <h3>üì∑ Camera System</h3>
          <table class="spec-table">
            <tbody>
              {
                detailedSpecs.camera.map(
                  (spec) =>
                    spec.value && (
                      <tr>
                        <td>{spec.label}</td>
                        <td>{spec.value}</td>
                      </tr>
                    ),
                )
              }
            </tbody>
          </table>
        </div>

        <div class="spec-category">
          <h3>üîã Battery &amp; Charging</h3>
          <table class="spec-table">
            <tbody>
              {
                detailedSpecs.battery.map(
                  (spec) =>
                    spec.value && (
                      <tr>
                        <td>{spec.label}</td>
                        <td>{spec.value}</td>
                      </tr>
                    ),
                )
              }
            </tbody>
          </table>
        </div>

        <div class="spec-category">
          <h3>üåê Connectivity &amp; Network</h3>
          <table class="spec-table">
            <tbody>
              {
                detailedSpecs.connectivity.map(
                  (spec) =>
                    spec.value && (
                      <tr>
                        <td>{spec.label}</td>
                        <td>{spec.value}</td>
                      </tr>
                    ),
                )
              }
            </tbody>
          </table>
        </div>

        <div class="spec-category">
          <h3>üìê Physical Dimensions</h3>
          <table class="spec-table">
            <tbody>
              {
                detailedSpecs.physical.map(
                  (spec) =>
                    spec.value && (
                      <tr>
                        <td>{spec.label}</td>
                        <td>{spec.value}</td>
                      </tr>
                    ),
                )
              }
            </tbody>
          </table>
        </div>

        <div class="spec-category">
          <h3>üá∞üá™ Kenya Network Compatibility</h3>
          <table class="spec-table">
            <tbody>
              {
                detailedSpecs.compatibility.map((spec) => (
                  <tr>
                    <td>{spec.label}</td>
                    <td>{spec.value}</td>
                  </tr>
                ))
              }
            </tbody>
          </table>
          <div class="network-note">
            <p>
              <strong>Note:</strong> The {currentProduct.brand}
              {currentProduct.name} is fully compatible with all major Kenyan mobile
              networks including <strong>Safaricom 4G/LTE</strong>, <strong
                >Airtel Kenya 4G</strong
              >, and <strong>Telkom Kenya</strong>. Enjoy fast internet speeds,
              clear voice calls, and seamless connectivity wherever you are in
              Kenya.
            </p>
          </div>
        </div>

        <div class="spec-category">
          <h3>‚ú® Additional Features</h3>
          <div class="features-grid">
            <div class="feature-item">
              <span class="feature-icon">üîê</span>
              <div>
                <strong>Security</strong>
                <p>Fingerprint sensor, Face unlock, PIN/Pattern lock</p>
              </div>
            </div>
            <div class="feature-item">
              <span class="feature-icon">üîä</span>
              <div>
                <strong>Audio</strong>
                <p>Stereo speakers, Dolby Atmos, Hi-Res audio</p>
              </div>
            </div>
            <div class="feature-item">
              <span class="feature-icon">üéÆ</span>
              <div>
                <strong>Gaming</strong>
                <p>Game mode, GPU turbo, Optimised performance</p>
              </div>
            </div>
            <div class="feature-item">
              <span class="feature-icon">üåô</span>
              <div>
                <strong>Display Features</strong>
                <p>Night mode, Reading mode, Eye comfort shield</p>
              </div>
            </div>
            <div class="feature-item">
              <span class="feature-icon">üì°</span>
              <div>
                <strong>Sensors</strong>
                <p>Accelerometer, Gyroscope, Proximity, Compass</p>
              </div>
            </div>
            <div class="feature-item">
              <span class="feature-icon">üéØ</span>
              <div>
                <strong>Smart Features</strong>
                <p>AI Assistant, Smart gestures, Split screen</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- =====================================================
         DELIVERY ‚Äî H2 for semantic hierarchy
         ===================================================== -->
    <section class="product-details delivery-section" id="delivery">
      <div class="details-container">
        <h2>Delivery in Kenya ‚Äî {currentProduct.name}</h2>
        <div class="description-content">
          <p>
            We offer <strong>free same-day delivery in Nairobi CBD</strong> for the
            {currentProduct.brand}
            {currentProduct.name}. Orders placed before midday are typically delivered
            the same day within Nairobi. We ship nationwide to all 47 counties.
          </p>
          <p>
            <strong>Delivery areas include:</strong> Nairobi (CBD, Westlands, Kilimani,
            Parklands, Eastleigh, Kasarani, Embakasi), Mombasa, Kisumu, Nakuru, Eldoret,
            Thika, Machakos, Kitale, Malindi, Kakamega, Nyeri, Meru, and all other
            major towns in Kenya. Small courier fees may apply outside Nairobi CBD.
          </p>
        </div>
      </div>
    </section>

    <!-- =====================================================
         PAYMENT PROCESS ‚Äî H2 for semantic hierarchy
         ===================================================== -->
    <section class="product-details payment-section" id="payment">
      <div class="details-container">
        <h2>Lipa Mdogo Mdogo Payment Process ‚Äî {currentProduct.name}</h2>
        <div class="description-content">
          <p>
            Owning the <a href={`/${brandSlug}-phones`}
              >{currentProduct.brand} {currentProduct.name}</a
            > is straightforward with our Lipa Mdogo Mdogo plan:
          </p>
          <ol>
            <li>
              <strong>Step 1:</strong> Pay the initial deposit of <strong
                >KES {currentProduct.deposit}</strong
              > via <strong>M-Pesa</strong> (Paybill or Till) or bank transfer.
            </li>
            <li>
              <strong>Step 2:</strong> Receive your {currentProduct.brand}
              {currentProduct.name} immediately after deposit confirmation ‚Äî same-day
              in Nairobi.
            </li>
            <li>
              <strong>Step 3:</strong> Pay <strong
                >KES {currentProduct.daily} daily</strong
              > through M-Pesa at your own pace.
            </li>
            <li>
              <strong>Step 4:</strong> Complete all payments and own your phone outright
              with no further obligations.
            </li>
          </ol>
          <p>
            <strong>Benefits:</strong> No interest charges, no hidden fees, no credit
            checks required. M-Pesa payments accepted ‚Äî compatible with Safaricom,
            Airtel Money, and other mobile wallets in Kenya.
          </p>
        </div>
      </div>
    </section>

    <!-- =====================================================
         WHY BUY ‚Äî H2 for semantic hierarchy
         ===================================================== -->
    <section class="product-details why-buy-section" id="why-buy">
      <div class="details-container">
        <h2>Why Buy the {currentProduct.brand} {currentProduct.name} in Kenya?</h2>
        <div class="description-content">
          <ul>
            <li>
              üá∞üá™ Sourced from authorized <a href={`/${brandSlug}-phones`}
                >{currentProduct.brand} distributors in Kenya</a
              >
            </li>
            <li>
              üíØ 100% genuine products with 2-year manufacturer warranty
            </li>
            <li>
              üì¶ Free same-day delivery in Nairobi ‚Äî nationwide delivery available
            </li>
            <li>
              üíö Pay via M-Pesa ‚Äî flexible daily payments, no interest or hidden
              fees
            </li>
            <li>
              üì± Fully compatible with <strong>Safaricom</strong>, <strong
                >Airtel Kenya</strong
              >, and <strong>Telkom Kenya</strong> 4G networks
            </li>
            <li>
              üì∏ Excellent camera for capturing Kenya's beautiful landscapes and
              memories
            </li>
            <li>
              üîã Long-lasting battery perfect for busy Kenyan lifestyles ‚Äî fewer
              charge cycles
            </li>
            <li>
              üõí Browse our full <a href="/mobile-phones">mobile phones collection</a
              > for more options
            </li>
          </ul>

          <h3>What's in the Box?</h3>
          <ul>
            <li>1√ó {currentProduct.brand} {currentProduct.name} handset</li>
            <li>1√ó USB charging cable</li>
            <li>1√ó Charging adapter</li>
            <li>1√ó SIM ejector pin</li>
            <li>1√ó User manual</li>
            <li>1√ó Warranty card</li>
            <li>Original retail packaging</li>
          </ul>

          <h3>Warranty &amp; After-Sales Support</h3>
          <p>
            Every <a href={`/${brandSlug}-phones`}
              >{currentProduct.brand} {currentProduct.name}</a
            > purchased through us comes with a comprehensive <strong
              >2-year manufacturer warranty</strong
            > covering manufacturing defects, hardware malfunctions, battery issues,
            and display problems. Our Nairobi-based customer service team is available
            to assist with claims, replacements, and support.
          </p>
          <p>
            <strong>Note:</strong> Warranty does not cover physical damage, water damage
            (unless IP-rated), unauthorised repairs, or software modifications.
          </p>
        </div>
      </div>
    </section>

    <!-- =====================================================
         FAQ SECTION
         ===================================================== -->
    <section class="faq-section">
      <div class="details-container">
        <h2>
          Frequently Asked Questions ‚Äî {currentProduct.brand}
          {currentProduct.name} Kenya
        </h2>
        <div class="faq-list">
          {
            faqs.map((faq) => (
              <details class="faq-item">
                <summary>{faq.question}</summary>
                <p>{faq.answer}</p>
              </details>
            ))
          }
        </div>
      </div>
    </section>

    <!-- =====================================================
         RELATED PRODUCTS
         ===================================================== -->
    {
      relatedProducts.length > 0 && (
        <section class="related-products">
          <div class="details-container">
            <h2>
              More {currentProduct.brand} Phones Available in Kenya ‚Äî Lipa Mdogo
              Mdogo
            </h2>
            <div class="products-grid">
              {relatedProducts.map((product) => (
                <ProductCard product={product} />
              ))}
            </div>
          </div>
        </section>
      )
    }

    <!-- =====================================================
         PAGE SUMMARY ‚Äî keyword density + dwell time + conversions
         ===================================================== -->
    <section class="page-summary">
      <div class="details-container">
        <h2>
          Summary ‚Äî {currentProduct.brand}
          {currentProduct.name} Price in Kenya
        </h2>
        <p>
          The <strong
            >{currentProduct.brand} {currentProduct.name} price in Kenya</strong
          > starts with a <strong>KES {currentProduct.deposit} deposit</strong>, followed
          by just <strong>KES {currentProduct.daily} per day</strong> via M-Pesa ‚Äî no
          interest, no hidden fees. You get <strong
            >free same-day delivery in Nairobi</strong
          > and the phone ships to all counties nationwide. Every unit is 100% genuine,
          works on <strong>Safaricom, Airtel Kenya, and Telkom Kenya</strong> 4G networks,
          and comes with a <strong>2-year manufacturer warranty</strong>. To order,
          call <a href="tel:+254720202167">+254 720 202 167</a> or
          <a
            href={`https://wa.me/254720202167?text=Hi, I want to buy ${currentProduct.brand} ${currentProduct.name}`}
            target="_blank"
            rel="noopener">WhatsApp us</a
          > ‚Äî and own your new {currentProduct.brand} today.
        </p>
      </div>
    </section>

    <!-- =====================================================
         BOTTOM CTA
         ===================================================== -->
    <section class="bottom-cta">
      <div class="cta-content">
        <h2>
          Ready to Buy the {currentProduct.brand}
          {currentProduct.name} in Kenya?
        </h2>
        <p>
          Start with just KES {currentProduct.deposit} deposit ‚Äî same-day delivery
          in Nairobi!
        </p>
        <div class="cta-buttons">
          <a href={`tel:+254720202167`} class="btn-primary">Call Now</a>
          <a
            href={`https://wa.me/254720202167?text=Hi, I want to buy ${currentProduct.brand} ${currentProduct.name}`}
            class="btn-whatsapp"
            target="_blank"
            rel="noopener">WhatsApp Us</a
          >
        </div>
      </div>
    </section>
  </main>
</ProductLayout>

<style>
  /* ============================================================
     LAYOUT
     ============================================================ */
  .product-page {
    max-width: 1400px;
    margin: 0 auto;
    padding: 1rem;
  }

  /* ============================================================
     BREADCRUMB
     ============================================================ */
  .breadcrumb {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem 0;
    font-size: 0.875rem;
    color: #666;
    flex-wrap: wrap;
  }

  .breadcrumb a {
    color: #f59e0b;
    text-decoration: none;
  }

  .breadcrumb a:hover {
    text-decoration: underline;
  }

  /* ============================================================
     ABOVE-THE-FOLD SEO INTRO
     ============================================================ */
  .intro-seo {
    background: #fffbeb;
    border-left: 4px solid #f59e0b;
    border-radius: 0 8px 8px 0;
    padding: 1.25rem 1.5rem;
    margin-bottom: 1.5rem;
  }

  .intro-paragraph {
    color: #374151;
    line-height: 1.8;
    margin: 0;
    font-size: 1rem;
  }

  .intro-paragraph a {
    color: #b45309;
    text-decoration: underline;
  }

  .intro-paragraph a:hover {
    color: #92400e;
  }

  /* ============================================================
     LOCAL TRUST SIGNALS
     ============================================================ */
  .local-trust {
    background: #f0fdf4;
    border: 1px solid #86efac;
    border-radius: 6px;
    padding: 0.75rem 1rem;
  }

  .local-trust p {
    margin: 0;
    font-size: 0.9rem;
    color: #166534;
    line-height: 1.6;
  }

  /* ============================================================
     PRODUCT GRID
     ============================================================ */
  .product-container {
    background: white;
    border-radius: 8px;
    padding: 2rem;
    margin-bottom: 2rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .product-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
  }

  @media (max-width: 968px) {
    .product-grid {
      grid-template-columns: 1fr;
      gap: 2rem;
    }
  }

  /* ============================================================
     IMAGES
     ============================================================ */
  .product-images {
    position: sticky;
    top: 1rem;
    height: fit-content;
  }

  .main-image {
    position: relative;
    background: #f9fafb;
    border-radius: 8px;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1rem;
  }

  .product-image {
    width: 100%;
    max-width: 500px;
    height: auto;
    object-fit: contain;
  }

  .product-image-secondary {
    width: 100%;
    max-width: 500px;
    height: auto;
    object-fit: contain;
    display: none; /* show if multiple images exist */
  }

  .badge-new {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: #10b981;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    font-weight: 600;
    font-size: 0.875rem;
  }

  /* ============================================================
     PRODUCT INFO
     ============================================================ */
  .product-info {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
  }

  .product-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1f2937;
    line-height: 1.25;
    margin: 0;
  }

  .product-meta {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .brand-badge {
    background: #f59e0b;
    color: white;
    padding: 0.375rem 0.75rem;
    border-radius: 4px;
    font-size: 0.875rem;
    font-weight: 600;
  }

  .stock-badge {
    background: #10b981;
    color: white;
    padding: 0.375rem 0.75rem;
    border-radius: 4px;
    font-size: 0.875rem;
    font-weight: 600;
  }

  .rating {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .stars {
    color: #fbbf24;
    font-size: 1.125rem;
  }

  .review-count {
    color: #6b7280;
    font-size: 0.875rem;
  }

  /* ============================================================
     PRICING
     ============================================================ */
  .pricing-section {
    background: #fef3c7;
    padding: 1.5rem;
    border-radius: 8px;
    border: 2px solid #f59e0b;
  }

  .price-highlight {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-bottom: 1rem;
  }

  @media (max-width: 640px) {
    .price-highlight {
      grid-template-columns: 1fr;
      gap: 1rem;
    }
  }

  .daily-price,
  .deposit-price {
    display: flex;
    flex-direction: column;
  }

  .price-label {
    font-size: 0.875rem;
    color: #78350f;
    font-weight: 500;
    margin-bottom: 0.25rem;
  }

  .price-value {
    font-size: 1.75rem;
    font-weight: 700;
    color: #92400e;
  }

  .period {
    font-size: 1rem;
    font-weight: 400;
  }

  .payment-note {
    color: #78350f;
    font-size: 0.875rem;
    margin: 0;
    font-weight: 500;
  }

  /* ============================================================
     KEY FEATURES
     ============================================================ */
  .key-features h3 {
    font-size: 1.125rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
    color: #1f2937;
  }

  .key-features ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.5rem;
  }

  @media (max-width: 640px) {
    .key-features ul {
      grid-template-columns: 1fr;
    }
  }

  .key-features li {
    color: #4b5563;
    font-size: 0.9375rem;
  }

  /* ============================================================
     COLOR SELECTION
     ============================================================ */
  .color-selection h3 {
    font-size: 1.125rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
    color: #1f2937;
  }

  .colors {
    display: flex;
    gap: 0.75rem;
  }

  .color-option {
    padding: 0.5rem 1rem;
    border: 2px solid #e5e7eb;
    border-radius: 4px;
    font-size: 0.875rem;
    cursor: pointer;
  }

  .color-option.selected {
    border-color: #f59e0b;
    background: #fef3c7;
    font-weight: 600;
  }

  /* ============================================================
     CTA BUTTONS
     ============================================================ */
  .cta-section {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .btn-primary,
  .btn-whatsapp {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 1rem;
    border-radius: 8px;
    font-weight: 600;
    font-size: 1rem;
    text-decoration: none;
    transition: transform 0.2s;
  }

  .btn-primary:hover,
  .btn-whatsapp:hover {
    transform: scale(1.02);
  }

  .btn-primary {
    background: #f59e0b;
    color: white;
  }

  .btn-whatsapp {
    background: #25d366;
    color: white;
  }

  /* ============================================================
     TRUST BADGES
     ============================================================ */
  .trust-badges {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
    padding: 1.5rem;
    background: #f9fafb;
    border-radius: 8px;
  }

  @media (max-width: 640px) {
    .trust-badges {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .trust-badges .badge {
    text-align: center;
    font-size: 0.75rem;
    color: #4b5563;
  }

  .trust-badges .icon {
    display: block;
    font-size: 1.5rem;
    margin-bottom: 0.25rem;
  }

  /* ============================================================
     SELLER INFO
     ============================================================ */
  .seller-info {
    padding: 1rem;
    background: #f9fafb;
    border-radius: 4px;
    font-size: 0.875rem;
  }

  .seller-info p {
    margin: 0.25rem 0;
    color: #4b5563;
  }

  .seller-info a {
    color: #f59e0b;
    text-decoration: none;
  }

  .seller-info a:hover {
    text-decoration: underline;
  }

  /* ============================================================
     CONTENT SECTIONS (shared styles)
     ============================================================ */
  .product-details,
  .specifications,
  .faq-section,
  .related-products,
  .delivery-section,
  .payment-section,
  .why-buy-section,
  .page-summary {
    background: white;
    border-radius: 8px;
    padding: 2rem;
    margin-bottom: 2rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .details-container {
    max-width: 900px;
    margin: 0 auto;
  }

  .details-container h2 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 1.5rem;
  }

  .details-container h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1f2937;
    margin: 1.5rem 0 1rem;
  }

  .description-content p {
    color: #4b5563;
    line-height: 1.7;
    margin-bottom: 1rem;
  }

  .description-content a {
    color: #b45309;
    text-decoration: underline;
  }

  .description-content a:hover {
    color: #92400e;
  }

  .description-content ul,
  .description-content ol {
    color: #4b5563;
    line-height: 1.7;
    padding-left: 1.5rem;
  }

  .description-content li {
    margin-bottom: 0.5rem;
  }

  /* ============================================================
     COMPARISON BLOCK
     ============================================================ */
  .comparison-block {
    background: #f9fafb;
    border-radius: 8px;
    padding: 1.5rem;
    margin: 1.5rem 0;
    border-left: 4px solid #f59e0b;
  }

  .comparison-block h3 {
    margin-top: 0;
    color: #1f2937;
  }

  .comparison-block p {
    margin-bottom: 0;
  }

  /* ============================================================
     PAGE SUMMARY
     ============================================================ */
  .page-summary {
    background: #fffbeb;
    border: 1px solid #fcd34d;
  }

  .page-summary p {
    color: #374151;
    line-height: 1.8;
    font-size: 1rem;
    margin: 0;
  }

  .page-summary a {
    color: #b45309;
    text-decoration: underline;
  }

  .page-summary a:hover {
    color: #92400e;
  }

  /* ============================================================
     SPECIFICATIONS TABLE
     ============================================================ */
  .spec-category {
    margin-bottom: 2.5rem;
  }

  .spec-category h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid #f59e0b;
    display: inline-block;
  }

  .spec-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 1rem;
  }

  .spec-table tr {
    border-bottom: 1px solid #e5e7eb;
  }

  .spec-table tr:last-child {
    border-bottom: none;
  }

  .spec-table td {
    padding: 1rem;
    color: #4b5563;
  }

  .spec-table td:first-child {
    font-weight: 600;
    width: 40%;
    color: #1f2937;
  }

  @media (max-width: 640px) {
    .spec-table td:first-child {
      width: 45%;
    }
  }

  .network-note {
    margin-top: 1rem;
    padding: 1rem;
    background: #fef3c7;
    border-left: 4px solid #f59e0b;
    border-radius: 4px;
  }

  .network-note p {
    margin: 0;
    color: #78350f;
    font-size: 0.9375rem;
    line-height: 1.6;
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin-top: 1rem;
  }

  @media (max-width: 640px) {
    .features-grid {
      grid-template-columns: 1fr;
    }
  }

  .feature-item {
    display: flex;
    gap: 1rem;
    padding: 1rem;
    background: #f9fafb;
    border-radius: 8px;
    align-items: start;
  }

  .feature-icon {
    font-size: 2rem;
    flex-shrink: 0;
  }

  .feature-item strong {
    display: block;
    color: #1f2937;
    margin-bottom: 0.25rem;
    font-size: 0.9375rem;
  }

  .feature-item p {
    color: #6b7280;
    font-size: 0.875rem;
    margin: 0;
    line-height: 1.5;
  }

  /* ============================================================
     FAQ
     ============================================================ */
  .faq-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .faq-item {
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 1rem;
  }

  .faq-item summary {
    font-weight: 600;
    color: #1f2937;
    cursor: pointer;
    user-select: none;
  }

  .faq-item p {
    margin-top: 0.75rem;
    color: #4b5563;
    line-height: 1.6;
  }

  /* ============================================================
     RELATED PRODUCTS
     ============================================================ */
  .products-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem;
  }

  @media (max-width: 1024px) {
    .products-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (max-width: 768px) {
    .products-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 480px) {
    .products-grid {
      grid-template-columns: 1fr;
    }
  }

  /* ============================================================
     BOTTOM CTA
     ============================================================ */
  .bottom-cta {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    border-radius: 8px;
    padding: 3rem 2rem;
    text-align: center;
    color: white;
    margin-bottom: 2rem;
  }

  .cta-content h2 {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  .cta-content p {
    font-size: 1.125rem;
    margin-bottom: 2rem;
    opacity: 0.95;
  }

  .cta-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .cta-buttons .btn-primary,
  .cta-buttons .btn-whatsapp {
    min-width: 200px;
  }
</style>