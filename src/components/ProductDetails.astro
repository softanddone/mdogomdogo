---
import Layout from "../layouts/Layout.astro";


const { name, image,source,from, deposit,processor,daily, totalPrice,discount,display,slug,slugs,memory,camera,battery } = Astro.props;
---


<Layout>

  <style>
    body, html {
      font-family: 'Poppins', sans-serif;
      background-color: #fdfdfd;
    
   margin: 0;
   padding: 0;
  width: 100%;
  max-width: 100vw!important;
  overflow-x: hidden!important;

    }
    .containerproductdetails {
      
      height: 100vh;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;


       width: 100%;
  max-width: 100vw;
  overflow-x: hidden;
    }

    .info-phone {
      
      height: 80%;
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;

        width: 100%;
  max-width: 95vw;
  overflow-x: hidden;

    }
    .image-phone {
      overflow: hidden;
      position: relative;
      cursor: crosshair;
      background: #f2f2f5;
      transition: all 0.3s ease;
    }
    .image-phone img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
      transform-origin: center;
    }
    .image-phone:hover img {
      transform: scale(2);
    }
    .image-phone::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.1);
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
      z-index: 1;
    }
    .image-phone:hover::before {
      opacity: 1;
    }
    .zoom-lens {
      position: absolute;
      width: 120px;
      height: 120px;
      border: 2px solid #e0e0e0;
      border-radius: 50%;
      box-shadow: 0 0 20px rgba(60, 60, 60, 0.2);
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.2s ease;
      z-index: 2;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(1px);
    }

    .image-phone:hover .zoom-lens {
      opacity: 1;
    }

    .image-phone:hover {
      box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.1);
      border: 2px solid rgba(0, 0, 0, 0.05);
    }

    .phone-content {
      width: 95%;
      height: 95%;
    }
    .phone-content .name-title,
    .phone-content .price-content {
      font-size: 18px;
      text-align: center;
    }
    .price-content s {
      color: #a0a0a0;
    }
    .price-content span {
      color: #b07f31;
    }
    .spec-card {
      background: linear-gradient(135deg, #ffffff 0%, #f9f9fa 100%);
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
      padding: 20px;
      /* width: 300px; */

       width: 100%;
       max-width: 300px;
height: 70%;
      /* max-height: 300px; */
      margin: 0 auto;
      border: 1px solid #eaeaea;
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
/* background: red; */
       
    }
    .spec-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
      color: #2c2c2e;
    }
    .spec-table tr {
      border-bottom: 1px solid #e9ecef;
      transition: all 0.3s ease;
    }
    .spec-table tr:hover {
      background-color: rgba(176, 127, 49, 0.05);
      transform: translateX(4px);
    }
    .spec-label {
      font-weight: 600;
      color: #6c757d;
      padding: 10px 16px 10px 0;
      font-size: 10px;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      position: relative;
    }
    .spec-value {
      font-weight: 500;
      color: #2a2a2a;
      font-size: 13px;
      line-height: 1.4;
      text-align: left;
      padding-left: 0;
      vertical-align: top;
    }
    .value-text {
      display: inline-block;
      margin-top: -25px;
    }

    .info-section {
      /* max-width: 1200px; */
      margin: 0 auto;
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.05);
      position: relative;
      overflow: hidden;
      /* display: flex; */


  display: flex;
  flex-wrap: wrap;
  width: 100%;
  max-width: 100%;
    }

    .details-info {
      /* display: grid;
      gap: 10px;
      position: relative;
      z-index: 1; */


       display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  width: 100%;

    }
    .card-text {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(176, 127, 49, 0.2);
      border-radius: 12px;
      padding: 24px;
      text-align: center;
      transition: all 0.3s ease;
      height: 50px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      position: relative;

      width: 100%;
  /* max-width: 300px; */


    }
    .card-text:hover {
      transform: translateY(-5px);
      background: rgba(255, 255, 255, 0.95);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.05);
      border-color: rgba(176, 127, 49, 0.3);
    }
    .card-text h1 {
      color: #2a2a2a;
      font-size: 1.4rem;
      font-weight: 600;
      margin-bottom: 12px;
    }
    .card-text p {
      color: #4b4b4b;
      font-size: 0.95rem;
      line-height: 1.5;
    }
    @media (max-width: 768px) {
      .info-phone {
        grid-template-columns: 1fr;
            width: 100%;
  max-width: 90vw;
  overflow-x: hidden;
  /* background: green; */
      }
      .info-section{
        /* background: yellow; */
        width:85vw;
      }
      .spec-card{
        width: 78vw;
      }
      .info-section{
        /* background: red!important; */
      }
      .containerproductdetails {
        height: 100%;
        margin-top: 60px;
      /* background: red; */
      
      }
      .info-section {
        padding: 30px 20px;
      }
      .card-text {
        min-height: 120px;
        height: auto;
      }

      .card-text h1 {
        font-size: 1.2rem;
      }

      .card-text p {
        font-size: 0.9rem;
      }
      body{
       max-width: 100vw;
  overflow-x: hidden;
      }
    }

    @media (max-width: 480px) {
      .info-section {
        padding: 20px 15px;
      }
      .card-text {
        padding: 20px;
      }
        body{
       max-width: 100vw;
  overflow-x: hidden;
      }
    }
  </style>

  <div class="containerproductdetails">
    <div class="info-phone">
      <div class="image-phone" id="imageContainer">
        <img src={source} alt={name} />
        <div class="zoom-lens" id="zoomLens"></div>
      </div>

      <div class="image-content">
        <div class="phone-content">
          <h1 class="name-title">{name} ({memory}; {camera}; {battery})</h1>
          <h1 class="price-content"><s>{from}</s> <span>{deposit}</span></h1>

          <div class="spec-card">
            <table class="spec-table">
              <tr><td class="spec-label">Display</td><td class="spec-value"><div class="value-text">6.7" HD+ (720 x 1600)</div></td></tr>
              <tr><td class="spec-label">Processor</td><td class="spec-value"><div class="value-text">{processor}</div></td></tr>
              <tr><td class="spec-label">Camera</td><td class="spec-value"><div class="value-text">{camera}</div></td></tr>
              <tr><td class="spec-label">Storage</td><td class="spec-value"><div class="value-text">{memory}</div></td></tr>
              <tr><td class="spec-label">Battery</td><td class="spec-value"><div class="value-text">{battery}</div></td></tr>
              <tr><td class="spec-label">Version</td><td class="spec-value"><div class="value-text">Android 14 + 2 OS Upgrades; One UI 6.1</div></td></tr>
              <tr><td class="spec-label">Deposit</td><td class="spec-value"><div class="value-text">{deposit} Daily Ksh {daily}</div></td></tr>
              <tr><td class="spec-label">Warranty</td><td class="spec-value"><div class="value-text">2 years</div></td></tr>
              <tr><td class="order"> </td>  <td class="orderbywhatsapp"> 
                
          
 <a href={`/checkout/${slugs}`}
 style="background: rgb(33, 33, 252); color: white; padding:5px;border-radius: 5px;  box-shadow: 0 2px 6px rgba(0,0,0,0.2); text-decoration: none;  z-index: 1;" 
 >
    Order Now
      </a>

</td>    </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="info-section">
        <div class="details-info">
          <div class="card-text"><h1>Free Delivery</h1><p>Free Deliveries for orders in Nairobi and Kiambu.</p></div>
          <div class="card-text"><h1>Payment on Delivery</h1><p>Pay Deposit after receiving your new smartphone.</p></div>
          <div class="card-text"><h1>Same Day Delivery</h1><p>Place an order and our rider is on the way to your place!</p></div>
          <div class="card-text"><h1>2 Years Warranty</h1><p>All our smartphones are backed up with a 24 months warranty.</p></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const imageContainer = document.getElementById('imageContainer');
    const zoomLens = document.getElementById('zoomLens');
    const img = imageContainer?.querySelector('img');

    if (imageContainer && zoomLens && img) {
      imageContainer.addEventListener('mousemove', function (e) {
        const rect = imageContainer.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        const lensX = x - zoomLens.offsetWidth / 2;
        const lensY = y - zoomLens.offsetHeight / 2;
        zoomLens.style.left = lensX + 'px';
        zoomLens.style.top = lensY + 'px';
        const originX = (x / rect.width) * 100;
        const originY = (y / rect.height) * 100;
        img.style.transformOrigin = `${originX}% ${originY}%`;
      });

      imageContainer.addEventListener('mouseleave', function () {
        img.style.transformOrigin = 'center';
      });
    }
  </script>


  
</Layout>
  